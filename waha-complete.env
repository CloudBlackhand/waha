# ===========================================
# WAHA COMPLETE CONFIGURATION
# ===========================================

# ===========================================
# BASIC CONFIGURATION
# ===========================================
WAHA_VERSION=CORE
PORT=3000

# ===========================================
# DASHBOARD CONFIGURATION
# ===========================================
WAHA_DASHBOARD_ENABLED=true
WAHA_DASHBOARD_USERNAME=admin
WAHA_DASHBOARD_PASSWORD=admin123
WAHA_DASHBOARD_URI=/dashboard

# ===========================================
# ENGINE CONFIGURATION
# ===========================================
WHATSAPP_DEFAULT_ENGINE=NOWEB

# ===========================================
# STORE CONFIGURATION (CRITICAL FOR MESSAGE LOGGING)
# ===========================================
# Enable store for message persistence
WHATSAPP_NOWEB_STORE_ENABLED=true
WHATSAPP_NOWEB_STORE_FULL_SYNC=true

# Session storage configuration
WHATSAPP_SESSIONS_STORAGE_TYPE=local
WHATSAPP_SESSIONS_STORAGE_PATH=/app/.sessions

# ===========================================
# LOGGING CONFIGURATION (CRITICAL FOR DEBUGGING)
# ===========================================
# Log levels
WAHA_LOG_LEVEL=debug
WAHA_HTTP_LOG_LEVEL=info

# Log format
WAHA_LOG_FORMAT=PRETTY

# ===========================================
# API CONFIGURATION
# ===========================================
WHATSAPP_API_KEY=your_api_key_here
WHATSAPP_API_KEY_HASH=your_api_key_hash_here

# ===========================================
# WEBHOOK CONFIGURATION
# ===========================================
WHATSAPP_WEBHOOK_URL=
WHATSAPP_WEBHOOK_EVENTS=message,status,message.ack,message.reaction

# ===========================================
# MEDIA CONFIGURATION
# ===========================================
WHATSAPP_MEDIA_AUTODOWNLOAD=true
WHATSAPP_MEDIA_BASE64=false
WHATSAPP_MEDIA_STORAGE_TYPE=local
WHATSAPP_MEDIA_STORAGE_PATH=/app/.media

# ===========================================
# SESSION CONFIGURATION
# ===========================================
WHATSAPP_SESSION_START_TIMEOUT=60000
WHATSAPP_SESSION_RESTART_TIMEOUT=30000
WHATSAPP_SESSION_QR_TIMEOUT=60000

# ===========================================
# NOWEB ENGINE SPECIFIC CONFIGURATION
# ===========================================
# Browser configuration
WHATSAPP_BROWSER_HEADLESS=true
WHATSAPP_BROWSER_ARGS=--no-sandbox,--disable-setuid-sandbox,--disable-dev-shm-usage

# Connection configuration
WHATSAPP_CONNECTION_TIMEOUT=60000
WHATSAPP_CONNECTION_RETRY_ATTEMPTS=3

# ===========================================
# HEALTH CHECK CONFIGURATION
# ===========================================
WHATSAPP_HEALTH_MEDIA_FILES_THRESHOLD_MB=1000
WHATSAPP_HEALTH_SESSIONS_FILES_THRESHOLD_MB=100

# ===========================================
# CORS CONFIGURATION
# ===========================================
CORS_ORIGIN=*

# ===========================================
# PROXY CONFIGURATION (OPTIONAL)
# ===========================================
# WHATSAPP_PROXY_SERVER=
# WHATSAPP_PROXY_USERNAME=
# WHATSAPP_PROXY_PASSWORD=

# ===========================================
# DATABASE CONFIGURATION (OPTIONAL - FOR PERSISTENT STORE)
# ===========================================
# PostgreSQL
# WHATSAPP_SESSIONS_POSTGRESQL_URL=postgres://user:password@localhost:5432/waha
# WHATSAPP_MEDIA_POSTGRESQL_URL=postgres://user:password@localhost:5432/waha

# MongoDB
# WHATSAPP_SESSIONS_MONGODB_URL=mongodb://user:password@localhost:27017/waha
# WHATSAPP_MEDIA_MONGODB_URL=mongodb://user:password@localhost:27017/waha

# ===========================================
# REDIS CONFIGURATION (OPTIONAL)
# ===========================================
# WHATSAPP_REDIS_URL=redis://localhost:6379

# ===========================================
# MINIO/S3 CONFIGURATION (OPTIONAL)
# ===========================================
# WHATSAPP_MINIO_ENDPOINT=localhost
# WHATSAPP_MINIO_PORT=9000
# WHATSAPP_MINIO_ACCESS_KEY=minioadmin
# WHATSAPP_MINIO_SECRET_KEY=minioadmin
# WHATSAPP_MINIO_USE_SSL=false
# WHATSAPP_MINIO_BUCKET_NAME=waha

# ===========================================
# ADVANCED CONFIGURATION
# ===========================================
# Message processing
WHATSAPP_MESSAGE_PROCESSING_TIMEOUT=30000
WHATSAPP_MESSAGE_RETRY_ATTEMPTS=3

# Store synchronization
WHATSAPP_STORE_SYNC_INTERVAL=5000
WHATSAPP_STORE_SYNC_BATCH_SIZE=100

# Performance tuning
WHATSAPP_MAX_CONCURRENT_SESSIONS=10
WHATSAPP_SESSION_CLEANUP_INTERVAL=300000
